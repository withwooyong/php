function main(){}function get_random_color(){function t(t,e){return Math.floor(Math.random()*(e-t+1))+t}function e(t,e){var i=e-t.toString().length+1;return Array(+(i>0&&i)).join("0")+t}window._color_list||(window._color_list=new Array);for(var i=null;;){var s=e(t(0,255).toString(16),2),n=e(t(0,255).toString(16),2),o=e(t(0,255).toString(16),2);if(i="#"+s+n+o,window._color_list.indexOf(i)==-1)break;window._color_list.push(i)}return i}var drop={include:function(t){if(null==this._include_list&&(this._include_list=[]),this._include_list.indexOf(t)==-1){for(var e,i="drop.js",s=document.getElementsByTagName("script"),n=0;n<s.length;n++)if(s[n].src.match(i)){e=s[n].src.replace(i,"");break}var o='<script src="'+e+t+'" ></script>';document.write(o),this._include_list.push(t)}},namespace:function(t,e){null==e&&(e="");for(var i in t){var s=e+i;window[s]&&"namespace"!=s&&(alert(s),alert(window[s])),window[s]=t[i]}},create:function(object){var obj=null,type=typeof object;if("object"==type)obj=arguments[0];else if("function"==type)if(arguments.length>1){for(var code="obj = new object( arguments[1]",i=2;i<arguments.length;i++)code+=", arguments["+i+"]";code+=" );",eval(code)}else 1==arguments.length&&(obj=new object);return obj},destroy:function(t){t&&t._destructor()},_resize:function(){var t=0;null!=window.screen&&(t=window.screen.availWidth);var e=0;null!=window.innerWidth&&(e=window.innerWidth);var i=0;null!=document.body&&(i=document.body.clientWidth);var s=0;null!=window.screen&&(s=window.screen.availHeight);var n=0;null!=window.innerHeight&&(n=window.innerHeight);var o=0;null!=window.body&&(o=window.body.clientHeight);var r=drop.get_desktop_control();if(null!=r){r.set_size(e,n),r.set_size(e,n);var l=t+" x "+s+"<br/>"+e+" x "+n+"<br/>"+i+" x "+o+"<br/>",_=document.getElementById("size_trace");_&&(_.innerText=l)}},log:function(t){drop.console&&drop.console.log(t)},text_width:function(t,e,i){if(null==i||i.length<=0)return 0;var s="class_"+t+"_style_"+e+"_content_"+i;if(null==this._text_width_list&&(this._text_width_list=new Object),null==this._text_height_list&&(this._text_height_list=new Object),this._text_width_list[s])return this._text_width_list[s];var n=document.createElement(this.tag);if(n.setAttribute("class",t),n.setAttribute("style",e),n.innerHTML=i,document.body.appendChild(n),this._text_width_list[s]=n.clientWidth,this._text_height_list[s]=n.clientHeight,n.parentNode.removeChild(n),Object.keys(this._text_width_list).length>500)for(var o in this._text_width_list){this._text_width_list[o]=null;break}if(Object.keys(this._text_height_list).length>500)for(var o in this._text_height_list){this._text_height_list[o]=null;break}return this._text_width_list[s]},text_height:function(t,e,i){if(null==i||i.length<=0)return 0;var s="class_"+t+"_style_"+e+"_content_"+i;if(null==this._text_width_list&&(this._text_width_list=[]),null==this._text_height_list&&(this._text_height_list=[]),this._text_height_list[s])return this._text_height_list[s];var n=document.createElement(this.tag);if(n.setAttribute("class",t),n.setAttribute("style",e),n.innerHTML=i,document.body.appendChild(n),this._text_width_list[s]=n.clientWidth,this._text_height_list[s]=n.clientHeight,n.parentNode.removeChild(n),Object.keys(this._text_width_list).length>500)for(var o in this._text_width_list){this._text_width_list[o]=null;break}if(Object.keys(this._text_height_list).length>500)for(var o in this._text_height_list){this._text_height_list[o]=null;break}return this._text_height_list[s]},_main:function(){main()}};drop.console=window.console,window.namespace=drop.namespace,window.onload=function(){drop._main()},window.onresize=function(){drop._resize()},window.onorientationchange=function(){drop._resize()},drop.object=function(){},drop.object.subclass=function(t){var e=function(){e.created||(e._created=!0,e._create()),this&&this._constructor&&this._constructor.apply(this,arguments)};for(var i in this)e[i]=this[i];return e.prototype=new this,e.superclass=this,e._created=!1,e._create=t,e},drop.object._create=function(){this.prototype.classname="object",this.prototype._constructor=function(){},this.prototype._destructor=function(){},this.prototype.toString=function(){return this.classname},this.prototype.to_string=function(){return this.classname},this.prototype.timeout=function(t,e){var i=this,s=function(){t&&t.call(i)};return window.setTimeout(s,e?e:0)}},drop.object._create(),drop.element=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="element",t.handle=null,t.tag="div",t.attribute_list=null,t.attribute_code=null,t.class_list=null,t.class_code=null,t.style_list=null,t.style_code=null,t.content="",t.invalidate=!0,t._constructor=function(t){e._constructor.call(this),this.handle=null,t&&this.set_element(t),this.attribute_list=new Object,this.attribute_code=null,this.class_list=new Array,this.class_code=null,this.style_list=new Object,this.style_code=null,this.content="",this.invalidate=!0},t._destructor=function(){e._destructor.call(this)},t.set_element=function(t){this.handle=t,this.tag=t.tagName,this.set_content(t.innerHTML)},t.get_element=function(){return this.handle},t.set_attribute=function(t,e){this.attribute_list[t]&&this.attribute_list[t]==e||(this.attribute_list[t]=e,this.attribute_code=null)},t.get_attribute=function(t){return this.attribute_list[t]},t.has_attribute=function(t){return!(!this.attribute_list[t]||null==this.attribute_list[t])},t.remove_attribute=function(t){this.attribute_list[t]&&(this.attribute_list[t]=null,this.attribute_code=null)},t.set_class=function(t,e){if(1==e)this.remove_class(t);else{var i=this.class_list.indexOf(t);i<0&&this.class_list.push(t)}this.class_code=null},t.remove_class=function(t){var e=this.class_list.indexOf(t);e<0||(this.class_list.splice(e,1),this.class_code=null)},t.get_class=function(t){var e=this.class_list.indexOf(t);return e<0?null:this.class_list[e]},t.get_class_string=function(){var t="";for(var e in this.class_list)t+=this.class_list[e]+" ";return t},t.set_style=function(t,e){null==e?this.remove_style(t):this.style_list[t]=e,this.style_code=null},t.remove_style=function(t){this.style_list[t]&&(delete this.style_list[t],this.style_code=null)},t.get_style=function(t){return this.style_list[t]},t.get_style_string=function(){var t="";for(var e in this.style_list)t+=e+": "+this.style_list[e]+"; ";return t},t.set_content=function(t){return this.content!=t&&(this.content=t,this.invalidate=!0,!0)},t.get_content=function(){return this.content},t.refresh=function(t){if(this.handle){if(null==this.attribute_code){for(var e in this.attribute_list){var i=this.attribute_list[e];null==i?(this.handle.removeAttribute(e),delete this.attribute_list[e]):i!=this.handle.getAttribute(e)&&this.handle.setAttribute(e,i)}this.attribute_code=""}null==this.class_code&&(this.class_code=this.get_class_string(),null!=this.class_code&&this.class_code.length>0?this.handle.setAttribute("class",this.class_code):this.handle.removeAttribute("class")),null==this.style_code&&(this.style_code=this.get_style_string(),null!=this.style_code&&this.style_code.length>0?this.handle.setAttribute("style",this.style_code):this.handle.removeAttribute("style")),1==this.invalidate&&(this.content&&(this.handle.innerHTML=this.content),this.invalidate=!1);var s=this.get_style("padding-left");s&&(s=s.substring(0,s.length-2),s<0&&(this.handle.scrollLeft=-s));var n=this.get_style("padding-top");n&&(n=n.substring(0,n.length-2),n<0&&(this.handle.scrollTop=-n))}}}),drop.event=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="event",t.type="",t.element=null,t.x=-1,t.y=-1,t.key=-1,t.button=0,t.params=null,t._constructor=function(t){e._constructor.call(this),null!=t&&t&&this.translate_event(t)},t._destructor=function(){e._destructor.call(this)},t.translate_event=function(t){this.handle=t,this.type=t.type,this.x=t.offsetX,this.y=t.offsetY,this.x=t.pageX,this.y=t.pageY,this.key=t.keyCode,this.element=t.srcElement;t.srcElement;if("mousedown"==this.type){var e=t.button;switch(e){case 0:this.button|=1,this.type="lbuttondown";break;case 2:this.button|=2,this.type="rbuttondown";break;case 1:this.button|=4,this.type="mbuttondown";break;default:this.button|=e,this.type="mousedown"}}else if("mouseup"==this.type)switch(t.button){case 0:this.button&=-2,this.type="lbuttonup";break;case 2:this.button&=-3,this.type="rbuttonup";break;case 1:this.button&=-5,this.type="mbuttonup";break;default:this.button&=~e,this.type="mouseup"}else"touchstart"==this.type?1==t.touches.length?(this.button|=1,this.type="lbuttondown",this.x=t.touches[0].pageX,this.y=t.touches[0].pageY):2==t.touches.length?(this.button|=2,this.type="rbuttondown",this.x=t.touches[1].pageX,this.y=t.touches[1].pageY):3==t.touches.length&&(this.button|=4,this.type="mbuttondown",this.x=t.touches[2].pageX,this.y=t.touches[2].pageY):"touchend"==this.type?0==t.touches.length?(this.button&=-2,this.type="lbuttonup"):1==t.touches.length?(this.button&=-3,this.type="rbuttonup"):2==t.touches.length&&(this.button&=-5,this.type="mbuttonup"):"touchmove"==this.type&&(this.type="mousemove",1==t.touches.length?(this.x=t.touches[0].pageX,this.y=t.touches[0].pageY):2==t.touches.length?(this.x=t.touches[1].pageX,this.y=t.touches[1].pageY):3==t.touches.length&&(this.x=t.touches[2].pageX,this.y=t.touches[2].pageY))}}),drop.send_event=function(t,e){t&&(t.parent&&1==t.parent.pre_translate_control_event(t,e)||t.process_event(e))},drop.listener=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="listener",t.dispatcher=null;var s=new Array("mousemove","mousedown","mouseup","touchstart","touchend","touchmove","touchcancel","keydown","keypress","keyup","focus","blur","resize","drag","dragstart","dragend","dragover","dragleave","drop","contextmenu","selectstart","select","selectend","change");t._constructor=function(t){e._constructor.call(this)},t._destructor=function(){e._destructor.call(this)},t.attach_event=function(t,e){if(null!=t){var i=this;for(var n in s)t.addEventListener(s[n],function(t){return i.dispatch(new drop.event(t),e)},!1);this.dispatcher=e,this.main()}},t.detach_event=function(t){if(null!=t){var e=this;for(i in s)t.removeEventListener(s[i],function(t){return e.dispatch(new drop.event(t),dispatcher)},!1)}},t.dispatch=function(t,e){function i(t,e){var s=!1;if(e.element.get_element()==t.element)s=!0;else for(var n in e.control_list){var o=e.control_list[n];if(s=i(t,o),1==s)break}return s}function s(t,e){var i=null,n=t.x,o=t.y;t.x-=e.left,t.y-=e.top,t.x+=e.element.handle.scrollLeft,t.y+=e.element.handle.scrollTop;for(var r=e.control_list.length-1;r>=0;r--){var l=e.control_list[r];if(1==l.is_visible()&&1==l.check_point_in_region(t.x,t.y)){i=s(t,l),null==i&&(i=l);break}}return t.x=n,t.y=o,null==i&&(i=e),i}function n(t,e){return null!=t.parent&&t.parent.pre_translate_control_event(t,e)}function o(t,e,i){drop.send_event(e,t);for(var s in e.control_list){var n=e.control_list[s];o(t,n,i+1)}}function o(t,e){drop.send_event(e,t);for(var i in e.control_list){var s=e.control_list[i];o(t,s)}}function r(t,e){var i=null;for(var s in e.control_list){var n=e.control_list[s];if(n.element.handle==t.element){i=n;break}if(i=r(t,n),null!=i)break}return i}if(!t.element||0!=i(t,e)){switch(this.button||(this.button=0),t.type){case"lbuttondown":case"rbuttondown":case"mbuttondown":this.button|=t.button,this.x=t.x,this.y=t.y;break;case"mousemove":if(this.x==t.x&&this.y==t.y)return;this.x=t.x,this.y=t.y;break;case"lbuttonup":this.button&=-2;break;case"rbuttonup":this.button&=-3;break;case"mbuttonup":this.button&=-5;break;case"selectstart":case"selectend":case"select":case"contextmenu":}t.button=this.button,t.x=this.x,t.y=this.y;var l=!1;switch(t.type){case"focus":drop.log("focus!!");break;case"selectstart":case"select":case"selectend":if(null==this.control_focused||0==this.control_focused.is_enabled())return t.handle.preventDefault(),void t.handle.stopPropagation();break;case"dragstart":case"drag":case"dragend":return t.handle.preventDefault(),void t.handle.stopPropagation();case"dragover":case"dragleave":case"drop":var _=this.control_captured;if(null==_&&(_=s(t,e),null==_))break;t.handle.preventDefault(),t.handle.stopPropagation(),0==n(_,t)&&(l=_.process_event(t));break;case"keydown":case"keyup":case"keypress":if(null==this.control_focused||0==this.control_focused.is_enabled())return t.handle.preventDefault(),void t.handle.stopPropagation();this.control_focused&&(e.element.handle!=t.element&&this.control_focused.element.handle!=t.element||this.control_focused.process_event(t));break;case"mousemove":if(this.control_captured){0==n(this.control_captured,t)&&(l=this.control_captured.process_event(t));break}if(this.control_hover&&1==this.control_hover.is_visible()&&0==this.control_hover.check_point_in_region(t.x,t.y)&&1==this.control_hover.is_visible()){var h=new drop.event;h.type="mouseleave",h.x=t.x,h.y=t.y,0==n(this.control_hover,h)&&this.control_hover.process_event(h),this.control_hover=null}var _=s(t,e);if(null==_){drop.log("ERROR");break}if(this.control_hover==_){if(0==n(_,t)&&(l=_.process_event(t),1==l))break}else{if(null!=this.control_hover&&1==this.control_hover.is_visible()){var h=new drop.event;h.type="mouseleave",h.x=t.x,h.y=t.y,0==n(this.control_hover,h)&&this.control_hover.process_event(h),this.control_hover=null}var c=new drop.event;if(c.type="mousehover",c.x=t.x,c.y=t.y,0==n(_,c)&&(_.process_event(c),this.control_hover=_),0==n(_,t)&&(l=_.process_event(t),1==l))break}break;case"lbuttondown":case"lbuttonup":case"rbuttondown":case"rbuttonup":case"mbuttondown":case"mbuttonup":var _=this.control_captured;if(null==_&&(_=s(t,e),null==_))break;if(0==n(_,t)&&(l=_.process_event(t)),("lbuttondown"==t.type||"rbuttondown"==t.type||"mbuttondown"==t.type)&&(this.control_downed=_,this.button_downed=t.type,"lbuttondown"==t.type))if(this.control_focused!=_&&1==_.is_enabled()){var a=new drop.event;a.type="blur",a.x=t.x,a.y=t.y,null!=this.control_focused&&(drop.send_event(this.control_focused,a),this.control_focused=null);var u=new drop.event;u.type="focus",u.x=t.x,u.y=t.y,drop.send_event(_,u),this.control_focused=_}else 0==_.is_enabled()&&t.handle&&(t.handle.preventDefault(),t.handle.stopPropagation());if(null!=_&&_==this.control_downed)if("lbuttonup"==t.type){if("lbuttondown"==this.button_downed){var d=new drop.event;d.type="click",d.x=t.x,d.y=t.y,drop.send_event(_,d),d.type="lbtnclick",drop.send_event(_,d)}this.control_downed=_,this.button_downed=t.type}else if("rbuttonup"==t.type){if("rbuttondown"==this.button_downed){var d=new drop.event;d.type="click",d.x=t.x,d.y=t.y,drop.send_event(_,d),d.type="rbtnclick",drop.send_event(_,d)}this.control_downed=_,this.button_downed=t.type}else if("mbuttonup"==t.type){if("mbuttondown"==this.button_downed){var d=new drop.event;d.type="click",d.x=t.x,d.y=t.y,drop.send_event(_,d),d.type="mbtnclick",drop.send_event(_,d)}this.control_downed=_,this.button_downed=t.type}break;case"paint":o(t,e,0);break;case"tick":o(t,e);break;case"change":_=r(t,e),drop.send_event(_,t);break;default:drop.log(this.count+":  - "+t.type+"( "+t.x+", "+t.y+", "+t.button+" )")}}},t.set_capture=function(t){var e=this.control_captured;return this.control_captured=t,e},t.release_capture=function(){var t=this.control_captured;return this.control_captured=null,t},t.main=function(){if(null!=this.dispatcher){var t=new drop.event;t.type="paint",t.params={},this.dispatch(t,this.dispatcher);var t=new drop.event;t.type="tick",t.params={},this.dispatch(t,this.dispatcher),this.timeout(this.main,100)}}}),drop.get_event_listener=function(t){if(drop._event_listener)return drop._event_listener;null==t&&(t=drop.get_desktop_control());var e=new drop.listener;return e.attach_event(document,t),drop._event_listener=e,drop._event_listener},drop.set_capture=function(t){return listener=drop.get_event_listener(),listener.set_capture(t)},drop.release_capture=function(){return listener=drop.get_event_listener(),listener.release_capture()},drop.intent=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="intent",t.data=null,t._constructor=function(){e._constructor.call(this),this.data=new Object,this.load()},t._destructor=function(){e._destructor.call(this)},t.load=function(){if(localStorage){var t=localStorage.getItem("drop_intent_local");localStorage.removeItem("drop_intent_local"),t&&(this.data=JSON.parse(t))}},t.save=function(){if(localStorage){var t=JSON.stringify(this.data);localStorage.setItem("drop_intent_local",t)}},t.set=function(t,e,i){var s=new Object;if(s.value=JSON.stringify(e),s.ttl=null,i&&(s.ttl=Date.now()+1e3*i),localStorage&&":"==t[0]&&":"==t[1]){var n=JSON.stringify(s);localStorage.setItem(t.substr(2),n)}this.data[t]=s},t.get=function(t){var e=null;if(localStorage&&":"==t[0]&&":"==t[1]){var i=localStorage.getItem(t.substr(2));e=JSON.parse(i)}else{if(!this.data.hasOwnProperty(t))return null;e=this.data[t]}return e?e.ttl&&e.ttl<Date.now()?(this.remove(t),null):JSON.parse(e.value):null},t.remove=function(t){localStorage&&":"==t[0]&&":"==t[1]?localStorage.removeItem(t.substr(2)):this.data.hasOwnProperty(t)&&delete this.data[t]},t.start=function(t){this.save(),location.href=t}}),drop.file=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="file",t.handle=null,t.cursor=0,t.SEEK_SET=0,t.SEEK_CUR=1,t.SEEK_END=2,t._constructor=function(t){e._constructor.call(this),this.handle=t,this.cursor=0},t._destructor=function(){e._destructor.call(this)},t.seek=function(t,e){switch(e){case this.SEEK_END:this.cursor=this.file.size-t;break;case this.SEEK_SET:this.cursor=t;break;case this.SEEK_CUR:default:this.cursor+=t}},t.tell=function(){return this.cursor},t.name=function(){return this.handle.name},t.size=function(){return this.handle.size},t.on_read=function(t){},t.read=function(t,e){var i=this.cursor,s=this.cursor+t,n=null;this.handle.slice?n=this.handle.slice(i,s):this.handle.mozSlice?n=this.handle.mozSlice(i,s):this.handle.webkitSlice&&(n=this.handle.webkitSlice(i,s)),e&&(this.on_read=e);var o=this,r=new FileReader;r.onloadend=function(t){if(t.target.readyState==FileReader.DONE){var e=t.target.result;o.cursor+=e.byteLength,o.on_read(e)}},r.readAsArrayBuffer(n)}}),drop.generator=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="generator",t._constructor=function(t,i){e._constructor.call(this),t&&this.parse(t,i)},t._destructor=function(){e._destructor.call(this)},t.parse2=function(t,e){var i=null;e||(e=drop.get_desktop_control());var s=JSON.parse(t);if(Array.isArray(s)){i=[];for(var n in s){var o=s[n][Object.keys(s[n])];o.control=Object.keys(s[n]),i[n]=this.create_control2(o,e)}}else{var o=s[Object.keys(s)];o.control=Object.keys(s),i=this.create_control2(o,e)}return i},t.create_control2=function(t,e){var i=null;if(!drop[t.control])return i;if("vertical"==t.orientation?t.orientation=DROP_LAYOUT_VERTICAL:"horizontal"==t.orientation&&(t.orientation=DROP_LAYOUT_HORIZONTAL),t.gravity){var s=0;t.gravity.indexOf("left")>=0&&(s|=DROP_GRAVITY_LEFT),t.gravity.indexOf("right")>=0&&(s|=DROP_GRAVITY_RIGHT),t.gravity.indexOf("middle")>=0&&(s|=DROP_GRAVITY_MIDDLE),t.gravity.indexOf("top")>=0&&(s|=DROP_GRAVITY_TOP),t.gravity.indexOf("bottom")>=0&&(s|=DROP_GRAVITY_BOTTOM),t.gravity.indexOf("center")>=0&&(s|=DROP_GRAVITY_CENTER),t.gravity=s}i=drop.create(drop[t.control],e),t.left||t.top?i.set_position(t.left,t.top,t.width,t.height):(t.width||t.height)&&i.set_size(t.width,t.height);for(var n in Object.keys(t))switch(Object.keys(t)[n]){case"control":case"controls":case"left":case"top":case"width":case"height":break;default:var o="set_"+Object.keys(t)[n];i[o]&&i[o].call(i,t[Object.keys(t)[n]])}if(t.controls)if(Array.isArray(t.controls))for(var n in t.controls){var r=t.controls[n][Object.keys(t.controls[n])];r.control=Object.keys(t.controls[n]),this.create_control2(r,i)}else{var r=t.controls[Object.keys(t.controls)];r.control=Object.keys(t.controls),this.create_control2(r,i)}return i},t.parse=function(t,e){e||(e=drop.get_desktop_control());var i=JSON.parse(t);if(Array.isArray(i))for(var s in i)control=this.create_control(i[s],e);else control=this.create_control(i,e);return control},t.create_control=function(t,e){var i=null;if(!drop[t.control])return i;if("vertical"==t.orientation?t.orientation=DROP_LAYOUT_VERTICAL:"horizontal"==t.orientation&&(t.orientation=DROP_LAYOUT_HORIZONTAL),t.gravity){var s=0;t.gravity.indexOf("left")>=0&&(s|=DROP_GRAVITY_LEFT),t.gravity.indexOf("right")>=0&&(s|=DROP_GRAVITY_RIGHT),t.gravity.indexOf("middle")>=0&&(s|=DROP_GRAVITY_MIDDLE),t.gravity.indexOf("top")>=0&&(s|=DROP_GRAVITY_TOP),t.gravity.indexOf("bottom")>=0&&(s|=DROP_GRAVITY_BOTTOM),t.gravity.indexOf("center")>=0&&(s|=DROP_GRAVITY_CENTER),t.gravity=s}i=drop.create(drop[t.control],e),t.left||t.top?i.set_position(t.left,t.top,t.width,t.height):(t.width||t.height)&&i.set_size(t.width,t.height);for(var n in Object.keys(t))switch(Object.keys(t)[n]){case"control":case"controls":case"left":case"top":case"width":case"height":break;default:var o="set_"+Object.keys(t)[n];i[o]&&i[o].call(i,t[Object.keys(t)[n]])}if(t.controls)if(Array.isArray(t.controls))for(var n in t.controls)this.create_control(t.controls[n],i);else this.create_control(t.controls,i);return i}}),drop.parse=function(t,e){var i=drop.create(drop_generator),s=i.parse(t,e);return drop.destroy(i),s},drop.parse2=function(t,e){var i=drop.create(drop_generator),s=i.parse2(t,e);return drop.destroy(i),s},drop.request=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="request",t._constructor=function(t,i){e._constructor.call(this),this.set_username(t),this.set_password(i)},t._destructor=function(){e._destructor.call(this)},t.define_property=function(t,e){var i="get_"+t,s="set_"+t,n="_"+t,o=function(){return this[n]};this[s]=function(t){"function"==typeof t?this[i]=t:(this[i]=o,this[n]=t)},this[s](e)};var i={},s={};t.get_property=function(t,e,s,n){return i[t]||(i[t]="get_"+t),this[i[t]](e,s,n)},t.set_property=function(t,e,i,n,o){return s[t]||(s[t]="set_"+t),this[s[t]](i,n,o)},t.to_string=function(){return"request"},t.define_property("url"),t.define_property("async",!0),t.define_property("request_method","GET"),t.define_property("request_data",""),t.define_property("response_text",function(){return this._http?this._http.responseText:""}),t.define_property("response_xml",function(){return this._http?this._http.responseXML:""}),t.define_property("username",null),t.define_property("password",null),t.set_parameter=function(t,e){this["_"+t+"_parameter"]=e,(this._parameters+" ").indexOf(" "+t+" ")<0&&(this._parameters+=" "+t)},t._parameters="",t.set_request_header=function(t,e){this["_"+t+"_header"]=e,(this._headers+" ").indexOf(" "+t+" ")<0&&(this._headers+=" "+t)},t._headers="",t.request=function(t){function e(){4==s._http.readyState?(s._ready=!0,i()):s.timeout(e,200)}function i(){s._http.responseXML&&s._http.responseXML.hasChildNodes()?s.response(s._http.responseXML):s.response(s._http.responseText)}t&&(this.response=t);var s=this;this._ready=!1;for(var n,o,r="",l=this._parameters.split(" "),_=1;_<l.length;_++)n=l[_],o=this["_"+n+"_parameter"],"function"==typeof o&&(o=o()),_>1&&(r+="&"),r+=n+"="+encodeURIComponent(o);var h=this._url;if(this._http=null,window.XMLHttpRequest?this._http=new XMLHttpRequest:this._http=new ActiveXObject("MSXML2.XMLHTTP"),"GET"==this._request_method&&r&&(h+="?"+r,r=null),this._http.open(this._request_method,h,this._async),"GET"!=this._request_method&&r&&this.set_request_header("Content-Type","application/x-www-form-urlencoded"),this._username&&this._password){var c="Basic "+btoa(this._username+":"+this._password);this.set_request_header("Authorization",c)}this.set_request_header("Expires","0"),this.set_request_header("Pragma","no-cache"),this.set_request_header("Cache-Control","no-store, no-cache, must-revalidate");for(var a=this._headers.split(" "),_=1;_<a.length;_++)n=a[_],o=this["_"+n+"_header"],"function"==typeof o&&(o=o()),this._http.setRequestHeader(n,o);return this._http.send(r),this._async?this.timeout(e,200):i(),this._http.status},t.request3=function(t){function e(){4==s._http.readyState?(s._ready=!0,i()):s.timeout(e,200)}function i(){s._http.responseXML&&s._http.responseXML.hasChildNodes()?s.response(s._http.responseXML):s.response(s._http.responseText)}t&&(this.response=t);var s=this;this._ready=!1;for(var n,o,r="",l=this._parameters.split(" "),_=new Object,h=1;h<l.length;h++)n=l[h],o=this["_"+n+"_parameter"],"function"==typeof o&&(o=o()),_[n]=o,h>1&&(r+="&"),r+=n+"="+encodeURIComponent(o);var c=this._url;if(this._http=null,window.XMLHttpRequest?this._http=new XMLHttpRequest:this._http=new ActiveXObject("MSXML2.XMLHTTP"),"GET"==this._request_method&&r&&(c+="?"+r,r=null),this._http.open(this._request_method,c,this._async),"GET"!=this._request_method&&r&&this.set_request_header("Content-Type","application/x-www-form-urlencoded"),this._username&&this._password){var a="Basic "+btoa(this._username+":"+this._password);this.set_request_header("Authorization",a)}this.set_request_header("Expires","0"),this.set_request_header("Pragma","no-cache"),this.set_request_header("Cache-Control","no-store, no-cache, must-revalidate");for(var u=this._headers.split(" "),h=1;h<u.length;h++)n=u[h],o=this["_"+n+"_header"],"function"==typeof o&&(o=o()),this._http.setRequestHeader(n,o);return this._http.send(JSON.stringify(_)),this._async?this.timeout(e,200):i(),this._http.status},t.request2=function(t,e){function i(){4==n._http.readyState?(n._ready=!0,s()):n.timeout(i,200)}function s(){n._http.responseXML&&n._http.responseXML.hasChildNodes()?n.response(n._http.responseXML):n.response(n._http.responseText)}e&&(this.response=e);var n=this;this._ready=!1;for(var o,r,l="",_=this._parameters.split(" "),h=1;h<_.length;h++)o=_[h],r=this["_"+o+"_parameter"],"function"==typeof r&&(r=r()),h>1&&(l+="&"),l+=o+"="+encodeURIComponent(r);var c=this._url;if(this._http=null,window.XMLHttpRequest?this._http=new XMLHttpRequest:this._http=new ActiveXObject("MSXML2.XMLHTTP"),"GET"==this._request_method&&l&&(c+="?"+l,l=null),this._http.open(this._request_method,c,this._async),this._username&&this._password){var a="Basic "+btoa(this._username+":"+this._password);this.set_request_header("Authorization",a)}this.set_request_header("Expires","0"),this.set_request_header("Pragma","no-cache"),this.set_request_header("Cache-Control","no-store, no-cache, must-revalidate");for(var u=this._headers.split(" "),h=1;h<u.length;h++)o=u[h],r=this["_"+o+"_header"],"function"==typeof r&&(r=r()),this._http.setRequestHeader(o,r);return this._http.send(t),this._async?this.timeout(i,200):s(),this._http.status},t.get_status=function(){return this._http.status},t.response=function(t){},t.is_ready=function(){return this._ready}}),drop.rect=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="rect",t.left=0,t.top=0,t.right=0,t.bottom=0,t._constructor=function(t,i,s,n){e._constructor.call(this),this.set_rect(t,i,s,n)},t._destructor=function(){},t.set_rect=function(t,e,i,s){this.left=t,this.top=e,this.right=i,this.bottom=s},t.get_width=function(){return this.right-this.left},t.get_height=function(){return this.bottom-this.top}}),window.DROP_ALIGN_LEFT=1,window.DROP_ALIGN_RIGHT=2,window.DROP_ALIGN_CENTER=3,window.DROP_ALIGN_TOP=4,window.DROP_ALIGN_BOTTOM=8,window.DROP_ALIGN_MIDDLE=12,window.DROP_COLOR_TEXT=1,window.DROP_COLOR_BACKGROUND=2,drop.control=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="control",t.control_list=null,t.parent=null,t.id=null,t.name=null,t.element=null,t.tag="div",t.left=0,t.top=0,t.width=100,t.height=100,t.visible=!0,t.enabled=!0,t._constructor=function(t,i){e._constructor.call(this),this.parent=null,this.element=null,this.control_list=new Array,null==i&&(this.set_element(null),null!=t&&this.set_parent(t),this.set_visible(!0),this.set_enabled(!0))},t._destructor=function(){e._destructor.call(this);for(var t=0;t<this.control_list.length;t++)drop.destroy(this.control_list[t]);this.parent&&this.set_parent(null)},t.set_parent=function(t){return null!=this.parent&&(this.parent.delete_control(this),this.parent=null),null!=t&&(t.insert_control(this),this.parent=t),!0},t.set_element=function(t){if(null==t&&(t="file"==this.tag?document.createElement("input"):document.createElement(this.tag)),this.element=new drop.element(t),"file"==this.tag&&(this.tag="input",t.setAttribute("type","file"),this.element.set_attribute("type","file")),this.set_position(this.left,this.top,this.width,this.height),this.element.set_style("overflow","hidden"),window._random_background_color){var e=get_random_color();this.element.set_style("background",e)}},t.get_element=function(){return this.element.get_element()},t.insert_control=function(t){var e=t.get_element();e.parentElement&&e.parentElement.removeChild(e),this.element.get_element().appendChild(e),this.control_list.push(t)},t.delete_control=function(t){var e=t.get_element();e.parentElement&&e.parentElement.removeChild(e);var i=this.control_list.indexOf(t);this.control_list.splice(i,1)},t.set_id=function(t){this.id=t},t.get_id=function(){return this.id},t.set_left=function(t){this.set_position(t,null)},t.get_left=function(){return this.left},t.set_top=function(t){this.set_position(null,t)},t.get_top=function(){return this.top},t.set_width=function(t){this.set_size(t,null)},t.get_width=function(){return this.width},t.set_height=function(t){this.set_size(null,t)},t.get_height=function(){return this.height},t.set_position=function(t,e,i,s,n){n||(n="absolute"),this.element.set_style("position",n),null!=t&&(this.element.set_style("left",t+"px"),this.left=t),null!=e&&(this.element.set_style("top",e+"px"),this.top=e),null==i&&null==s||this.set_size(i,s)},t.set_size=function(t,e,i){if(null==t&&null==e)return!1;if(t==this.width&&e==this.height)return!1;var s=new drop.event;return s.type="size",s.params={width:t,height:e},drop.send_event(this,s),null!=t&&(this.element.set_style("width",t+"px"),this.width=t),null!=e&&(this.element.set_style("height",e+"px"),this.height=e),!0},t.set_content=function(t){var e=this.element.set_content(t);return e},t.get_content=function(){return this.element.get_content()},t.set_enabled=function(t){return this.enable!=t&&(this.enable=t,!0)},t.get_enabled=function(){return this.enable},t.is_enabled=function(){return 1==this.enable},t.set_visible=function(t){return this.visible!=t&&(this.visible=t,t?this.element.set_style("display","block"):this.element.set_style("display","none"),!0)},t.get_visible=function(){return this.visible},t.is_visible=function(){return 1==this.visible},t.set_cursor=function(t){null!=t&&this.element.set_style("cursor",t)},t.get_cursor=function(){return this.element.get_style("cursor")},t.set_color=function(t,e){switch(t){case DROP_COLOR_TEXT:this.element.set_style("color",e);break;case DROP_COLOR_BACKGROUND:this.element.set_style("background-color",e)}},t.set_font=function(t,e,i){null!=t&&this.element.set_style("font-family",t),null!=e&&this.element.set_style("font-size",e+"px"),null!=i&&this.element.set_style("font-weight",i)},t.get_font=function(){return this.element.get_style("font-family")},t.get_font_size=function(){return this.element.get_style("font-size")},t.get_font_weight=function(){return this.element.get_style("font-weight")},t.check_point_in_region=function(t,e){this.parent;return null==this.parent||t>=this.left&&t<=this.left+this.width&&e>=this.top&&e<=this.top+this.height},t.pre_translate_control_event=function(t,e){return!1},t.process_event=function(t){return this.on_event(t),!0},t.on_event=function(e){t.count||(t.count=0),t.count++;var i="on_"+e.type,s="on_"+this.name+"_"+e.type,n=!1;switch(e.type){case"size":this.name&&this.parent&&this.parent[s]?n=this.parent[s].call(this.parent,this,e.params.width,e.params.height):this[i]&&(n=this[i].call(this,e.params.width,e.params.height));break;case"click":this.name&&this.parent&&this.parent[s]?n=this.parent[s].call(this.parent,this,e):this[i]&&(n=this[i].call(this,e));
break;default:this.name&&this.parent&&this.parent[s]?n=this.parent[s].call(this.parent,this,e):this[i]&&(n=this[i].call(this,e))}if("paint"==e.type||"tick"==e.type)return!1;if(1==window._event_log){var o=t.count+": "+this.id+e.element+" - "+e.type+"( "+e.x+", "+e.y+", "+e.button+" )";drop.log(o);var r=document.getElementById("event_trace");r&&(r.innerText=o)}return!0},t.on_paint=function(t){this.parent&&this.element&&this.element.refresh()}}),drop.get_desktop_control=function(t){if(null!=drop._desktop_control)return drop._desktop_control;if(1==drop._bootup)return null;if(drop._bootup=!0,null==t&&(t=document.getElementsByTagName("BODY")[0],null==t))return null;var e=new drop.layout_control(null,1);e.set_element(t),e.set_id("desktop");drop.get_event_listener(e);drop._desktop_control=e;var i=0;null!=window.screen&&(i=window.screen.availWidth);var s=0;null!=window.innerWidth&&(s=window.innerWidth);var n=0;null!=document.body&&(n=document.body.clientWidth);var o=0;null!=window.screen&&(o=window.screen.availHeight);var r=0;null!=window.innerHeight&&(r=window.innerHeight);var l=0;null!=window.body&&(l=window.body.clientHeight),e.set_size(s,r);var _=i+" x "+o+"<br/>"+s+" x "+r+"<br/>"+n+" x "+l+"<br/>",h=document.getElementById("size_trace");return h&&(h.innerText=_),drop._bootup=!1,drop._desktop_control},window.DROP_LAYOUT_HORIZONTAL=1,window.DROP_LAYOUT_VERTICAL=2,window.DROP_GRAVITY_LEFT=DROP_ALIGN_LEFT,window.DROP_GRAVITY_RIGHT=DROP_ALIGN_RIGHT,window.DROP_GRAVITY_CENTER=DROP_ALIGN_CENTER,window.DROP_GRAVITY_TOP=DROP_ALIGN_TOP,window.DROP_GRAVITY_BOTTOM=DROP_ALIGN_BOTTOM,window.DROP_GRAVITY_MIDDLE=DROP_ALIGN_MIDDLE,drop.layout_control=drop.control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="layout_control",t.orientation=0,t.gravity=0,t.weight=0,t.need_reposition=!1,t._constructor=function(t,i){e._constructor.call(this,t,i)},t._destructor=function(){e._destructor.call(this)},t.set_orientation=function(t){this.orientation=t,this.need_reposition=!0},t.get_orientation=function(){return this.orientation},t.set_gravity=function(t){this.gravity=t},t.get_gravity=function(){return this.gravity},t.set_weight=function(t){this.weight=t,null!=this.parent&&(this.parent.need_reposition=!0)},t.get_weight=function(t){return this.weight},t.reposition=function(){if(0!=this.need_reposition){if(this.orientation==DROP_LAYOUT_HORIZONTAL){var e=0,i=this.width;for(var s in this.control_list){var n=this.control_list[s],o=n.get_weight();0!=o?e+=n.get_weight():i-=n.get_width()}var r=0,l=0;(this.gravity&DROP_GRAVITY_CENTER)==DROP_GRAVITY_CENTER?r=parseInt(i/2+.5):(this.gravity&DROP_GRAVITY_RIGHT)==DROP_GRAVITY_RIGHT?r=i:(this.gravity&DROP_GRAVITY_LEFT)==DROP_GRAVITY_LEFT,0!=e&&(r=0);for(var s in this.control_list){var n=this.control_list[s],_=n.get_width(),h=n.get_height(),o=n.get_weight();0!=o&&(_=parseInt(i*o/e+.5),_<0&&(_=0),i-=_,e-=o),(this.gravity&DROP_GRAVITY_MIDDLE)==DROP_GRAVITY_MIDDLE?l=parseInt((this.height-n.get_height())/2+.5):(this.gravity&DROP_GRAVITY_BOTTOM)==DROP_GRAVITY_BOTTOM?l=parseInt(this.height-n.get_height()+.5):(this.gravity&DROP_GRAVITY_TOP)==DROP_GRAVITY_TOP,n.set_position(r,l,_,h,null,!0),r+=n.width}}else if(this.orientation==DROP_LAYOUT_VERTICAL){var e=0,i=this.height;for(var s in this.control_list){var n=this.control_list[s],o=n.get_weight();0!=o?e+=n.get_weight():i-=n.get_height()}var r=0,l=0;(this.gravity&DROP_GRAVITY_MIDDLE)==DROP_GRAVITY_MIDDLE?l=parseInt(i/2+.5):(this.gravity&DROP_GRAVITY_BOTTOM)==DROP_GRAVITY_BOTTOM?l=i:(this.gravity&DROP_GRAVITY_TOP)==DROP_GRAVITY_TOP,0!=e&&(l=0);for(var s in this.control_list){var n=this.control_list[s],_=n.get_width(),h=n.get_height(),o=n.get_weight();0!=o&&(h=parseInt(i*o/e+.5),h<0&&(h=0),i-=h,e-=o),(this.gravity&DROP_GRAVITY_CENTER)==DROP_GRAVITY_CENTER?r=parseInt((this.width-n.get_width())/2+.5):(this.gravity&DROP_GRAVITY_RIGHT)==DROP_GRAVITY_RIGHT?r=parseInt(this.width-n.get_width()+.5):(this.gravity&DROP_GRAVITY_LEFT)==DROP_GRAVITY_LEFT,n.set_position(r,l,_,h,null,!0),l+=n.height}}this.need_reposition=!1,t.reposition_count||(t.reposition_count=0),t.reposition_count++}},t.insert_control=function(t){e.insert_control.call(this,t),this.need_reposition=!0},t.delete_control=function(t){e.delete_control.call(this,t),this.need_reposition=!0},t.set_size=function(t,i){var s=e.set_size.call(this,t,i);return this.need_reposition=!0,s},t.on_paint=function(t){e.on_paint.call(this,t),this.reposition()}}),window.DROP_BUTTON_DEFAULT=1,window.DROP_BUTTON_BORDER=2,window.DROP_BUTTON_FLAT=3,drop.button=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="button",t.tag="button",t.type=DROP_BUTTON_DEFAULT,t.width=120,t.height=30,t.button_picture=null,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("button"),this.element.set_class("default")},t._destructor=function(){e._destructor.call(this)},t.set_text=function(t){this.set_content(t)},t.get_text=function(){return this.get_content()},t.set_picture=function(t){this.button_picture=drop.create(drop.picture,this),this.button_picture.set_picture(t),this.button_picture.set_position(0,0,this.get_width(),this.get_height()),this.button_picture.check_point_in_region=function(t,e){return!1}},t.get_picture=function(){return this.button_picture.get_picture()},t.set_enabled=function(t){e.set_enabled.call(this,t),t?this.element.remove_attribute("disabled"):this.element.set_attribute("disabled","disabled")},t.set_type=function(t){if(this.type==t)return!1;switch(this.type){case DROP_BUTTON_BORDER:this.element.remove_class("border");break;case DROP_BUTTON_FLAT:this.element.remove_class("flat");break;case DROP_BUTTON_DEFAULT:default:this.element.remove_class("default")}switch(t){case DROP_BUTTON_BORDER:this.element.set_class("border");break;case DROP_BUTTON_FLAT:this.element.set_class("flat");break;case DROP_BUTTON_DEFAULT:default:this.element.set_class("default")}return this.type=t,!0},t.get_type=function(){return this.type},t.set_text_color=function(t){this.set_color(DROP_COLOR_TEXT,t)},t.get_text_color=function(){return this.elemnet.get_style("color")},t.on_size=function(t,e){this.button_picture&&this.button_picture.set_position(0,0,t,e)}}),drop.checkbox=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="checkbox",t.tag="input",t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_attribute("type","checkbox"),this.element.set_class("drop"),this.element.set_class("checkbox"),this.set_checked(!1)},t._destructor=function(){e._destructor.call(this)},t.set_checked=function(t){return this.element.handle.checked!=t&&(this.element.handle.checked=t,!0)},t.is_checked=function(){return this.element.handle.checked},t.set_enabled=function(t){e.set_enabled.call(this,t),t?this.element.remove_attribute("disabled"):this.element.set_attribute("disabled","disabled")}}),drop.combobox=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="combobox",t.width=230,t.height=32,t.content_width=300,t.content_height=350,t.bar_panel=null,t.search_panel=null,t.combobox_button=null,t.content_list=null,t.readonly=!1,t._constructor=function(t,i){e._constructor.call(this,t,i),this.set_orientation(DROP_LAYOUT_VERTICAL),this.element.set_class("drop"),this.element.set_class("combobox"),this.element.remove_style("overflow"),this.bar_panel=drop.create(drop.layout_control,this),this.bar_panel.set_size(this.width,this.height),this.combobox_edit=drop.create(drop.edit,this.bar_panel),this.combobox_edit.set_id("combobox_edit"),this.combobox_edit.element.set_class("combobox"),this.combobox_edit.set_size(this.width-32,this.height),this.combobox_button=drop.create(drop.button,this.bar_panel),this.combobox_button.set_id("combobox_button"),this.combobox_button.element.set_class("combobox"),this.combobox_button.set_position(this.combobox_edit.get_width(),0,32,this.height),this.combobox_button.set_text("+"),this.content_list=drop.create(drop.list,this),this.content_list.element.set_class("combobox"),this.content_list.set_size(this.width),this.content_list.set_visible(!1);var s=this;this.combobox_button.process_event=function(t){if("click"==t.type)if(1==s.content_list.is_visible())s.content_list.set_visible(!1);else{s.content_list.set_visible(!0);var t=new drop.event;t.type="focus",drop.send_event(s.combobox_edit,t)}else"blur"==t.type&&s.content_list.set_visible(!1);return e.process_event.call(this,t)}},t._destructor=function(){e._destructor.call(this)},t.add=function(t){this.content_list.add(t)},t.set_readonly=function(t){return this.readonly!=t&&(this.readonly=t,void(1==t?(this.combobox_edit.set_readonly(!0),this.combobox_button.set_enabled(!1)):(this.combobox_edit.set_readonly(!1),this.combobox_button.set_enabled(!0))))},t.get_readonly=function(){return this.readonly},t.set_enabled=function(t){e.set_enabled.call(this,t),drop.log(t)},t.on_size=function(t,e){this.bar_panel&&this.bar_panel.set_size(t,e),this.combobox_edit&&this.combobox_edit.set_size(t-32,e),this.combobox_button&&this.combobox_button.set_position(this.combobox_edit.get_width(),0,32,e),this.content_list&&this.content_list.set_size(t)}}),drop.dialog=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="dialog",t.width=320,t.height=200,t.border=null,t.title_bar=null,t.client=null,t.action_bar=null,t.client_rect=null,t.title_bar_size=30,t.action_bar_size=30,t.title_bar_division=0,t.action_bar_division=0,t.border_left=8,t.border_top=8,t.border_right=8,t.border_bottom=8,t.icon_width=0,t.icon_height=0,t.icon=null,t.title=null,t.close_button=null,t.is_icon=!1,t.is_title=!1,t.is_close_button=!0,t.ok_button=null,t.cancel_button=null,t.is_modal=!1,t.callback=null,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("dialog");var s=function(t){return null!=this.parent&&(this.parent._delete_control(this),this.parent=null),null!=t&&(t._insert_control(this),this.parent=t),!0},n=this;this.border=drop.create(drop.border_window,null),this.border.set_parent=function(t){return s.call(n.border,t)},this.border.set_parent(this),this.border.set_size(this.width,this.height),this.border.on_size=function(t,e){n.on_border_size.call(n,t,e)},this.client_rect=drop.create(drop.rect,this.border_left,this.border_top,this.get_width()-this.border_right,this.get_height()-this.border_bottom),this.title_bar=drop.create(drop.layout_control,this.border),this.title_bar.on_size=function(t,e){n.on_title_bar_size.call(n,t,e)},this.client=drop.create(drop.layout_control,this.border),this.action_bar=drop.create(drop.layout_control,this.border),this.action_bar.on_size=function(t,e){n.on_action_bar_size.call(n,t,e)},this.icon=drop.create(drop.picture,this.title_bar),this.title=drop.create(drop.label,this.title_bar),this.close_button=drop.create(drop.layout_control,this.title_bar),this.close_button.element.set_class("drop-icon"),this.close_button.element.set_class("drop-icon-closethick"),this.close_button.set_size(16,16),this.close_button.set_cursor("pointer"),this.close_button.on_click=function(){n.on_close_button_click.call(n)},this.cancel_button=drop.create(drop.button,this.action_bar),this.cancel_button.set_text("CANCEL"),this.ok_button=drop.create(drop.button,this.action_bar),this.ok_button.set_text("OK"),this._reposition_control(),this.set_visible(!0)},t._destructor=function(){e._destructor.call(this)},t.set_title=function(t){this.title.set_text(t)},t.get_title=function(){return this.title.get_text()},t._reposition_control=function(){var t=this.title_bar_size,e=this.action_bar_size,i=this.title_bar_division,s=this.action_bar_division,n=this.client_rect.left,o=this.client_rect.top,r=this.client_rect.get_width(),l=t;this.title_bar.set_position(n,o,r,l),o+=l+i,l=this.client_rect.get_height()-t-e-(i+s),this.client.set_position(n,o,r,l),o+=l+s,l=e,this.action_bar.set_position(n,o,r,l)},t.set_border_size=function(t,e,i,s){return null!=t&&null!=e&&null!=i&&null!=s&&(this.border_left=t,this.border_top=e,this.border_right=i,this.border_bottom=s,this.client_rect.set_rect(this.border_left,this.border_top,this.get_width()-this.border_right,this.get_height()-this.border_bottom),void this._reposition_control())},t.set_title_bar_size=function(t){return this.title_bar_size!=t&&null!=t&&(this.title_bar_size=t,void this._reposition_control())},t.get_title_bar_size=function(){return this.title_bar_size},t.set_action_bar_size=function(t){return this.action_bar_size!=t&&null!=t&&(this.action_bar_size=t,void this._reposition_control())},t.get_action_bar_size=function(){return this.action_bar_size},t.set_title_bar_division_size=function(t){return this.title_bar_division!=t&&null!=t&&(this.title_bar_division=t,void this._reposition_control())},t.get_title_bar_division_size=function(){return this.title_bar_division},t.set_action_bar_division_size=function(t){return this.action_bar_division!=t&&null!=t&&(this.action_bar_division=t,void this._reposition_control())},t.get_action_bar_division_size=function(){return this.action_bar_division},t.set_icon_size=function(t,e){return(null!=t||null!=e)&&(null!=t&&this.icon_width!=t&&(this.icon_width=t,this.icon.set_size(t,null)),null!=e&&this.icon_height!=e&&(this.icon_height=e,this.icon.set_size(null,e)),void this._reposition_control())},t.get_icon_width=function(){return this.icon_width},t.get_icon_height=function(){return this.icon_height},t.on_size=function(t,e){0==this.is_modal&&this.border&&this.border.set_size(t,e)},t.set_size=function(t,i){1==this.is_modal?(this.border.set_size(t,i),e.set_size.call(this,this.parent.get_width(),this.parent.get_height())):e.set_size.call(this,t,i)},t.set_position=function(t,i,s,n){1==this.is_modal?(this.border.set_position(t,i,s,n),e.set_position.call(this,0,0,s,n)):e.set_position.call(this,t,i,s,n)},t.set_width=function(t){1==this.is_modal&&this.border.set_width(t),e.set_size.call(this,t,null)},t.get_width=function(){return 1==this.is_modal?this.border.get_width():e.get_width.call(this)},t.set_height=function(t){1==this.is_modal&&this.border.set_height(t),e.set_size.call(this,null,t)},t.get_height=function(){return 1==this.is_modal?this.border.get_height():e.get_height.call(this)},t.on_border_size=function(t,e){this.client_rect&&(this.client_rect.set_rect(this.border_left,this.border_top,t-this.border_right,e-this.border_bottom),this._reposition_control())},t.on_title_bar_size=function(t,e){var i=0,s=(e-this.icon_height)/2;this.icon.set_position(i,s,this.icon_width,this.icon_height),i+=this.icon_width+4,s=0,this.title.set_position(i,s,t-(this.icon_width+4+20),e),i=t-16,s=(e-16)/2,this.close_button.set_position(i,s,16,16)},t.on_action_bar_size=function(t,e){var i=t-80,s=0;this.cancel_button.set_position(i,s,80,e),i-=85,this.ok_button.set_position(i,s,80,e)},t.do_modal=function(t){this.is_modal=!0,this.set_position(this.left,this.top,this.width,this.height),this.callback=t,this.set_visible(!0)},t.end_dialog=function(t){this.callback&&this.callback.call(this.parent,t)},t.on_close_button_click=function(){return this.is_modal=!1,this.end_dialog(this.close_button),!0},t.insert_control=function(t){this.client.insert_control(t)},t.delete_control=function(t){this.client.delete_control(t)},t._insert_control=function(t){e.insert_control.call(this,t)},t._delete_control=function(t){e.delete_control.call(this,t)}}),drop.border_window=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="border_window",t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("dialog"),this.element.set_class("border")},t._destructor=function(){e._destructor.call(this)}}),window.DROP_EDIT_TEXT=1,window.DROP_EDIT_PASSWORD=2,window.DROP_EDIT_HIDDEN=3,window.DROP_EDIT_TEXT_LEFT=1,window.DROP_EDIT_TEXT_CENTER=2,window.DROP_EDIT_TEXT_RIGHT=3,drop.edit=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="edit",t.tag="input",t.type=0,t.text_align=0,t.readonly=!1,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("edit"),this.set_type(DROP_EDIT_TEXT),this.set_text_align(DROP_EDIT_TEXT_LEFT)},t._destructor=function(){e._destructor.call(this)},t.set_content=function(t){this.element.set_attribute("value",t),this.element.handle.value=t},t.get_content=function(){return this.element.handle.value},t.set_text=function(t){this.set_content(t)},t.get_text=function(){return this.get_content()},t.set_placeholder=function(t){this.element.set_attribute("placeholder",t)},t.get_placeholder=function(){return this.element.get_attribute("placeholder")},t.set_readonly=function(t){return this.readonly!=t&&(this.readonly=t,t?this.element.set_attribute("readonly","readonly"):this.element.remove_attribute("readonly"),!0)},t.get_readonly=function(){return this.readonly},t.set_enabled=function(t){e.set_enabled.call(this,t),1==t?this.element.remove_attribute("disabled"):this.element.set_attribute("disabled","disabled")},t.set_type=function(t){if(this.type==t)return!1;switch(this.type=t,t){case DROP_EDIT_PASSWORD:this.element.set_attribute("type","password");break;case DROP_EDIT_HIDDEN:this.element.set_attribute("type","hidden");break;case DROP_EDIT_TEXT:default:this.element.set_attribute("type","text")}return!0},t.get_type=function(){return this.type},t.set_text_align=function(t){if(this.text_align==t)return!1;switch(this.text_align=t,t){case DROP_EDIT_TEXT_CENTER:this.element.set_style("text-align","center");break;case DROP_EDIT_TEXT_RIGHT:this.element.set_style("text-align","right");break;case DROP_EDIT_TEXT_LEFT:default:this.element.set_style("text-align","left")}return!0},t.get_text_align=function(){return this.text_align},t.set_text_color=function(t){this.set_color(DROP_COLOR_TEXT,t)},t.get_text_color=function(){return this.get_color(DROP_COLOR_TEXT)}}),drop.fileupload=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="fileupload",t.width=100,t.height=30,t.file=[],t.upload_count=0,t.max_file_size=-1,t.max_file_limit=-1,t.allowed_extensions=[],t.allowed_extensions_check=!1,t.upload_multiple=!1,t.file_button=null,t.file_element=null,t._constructor=function(t,i){e._constructor.call(this,t,i),this.file_button=drop.create(drop.button,this),this.file_button.set_position(0,0,this.width,this.height),this.file_button.element.set_class("fileupload"),this.file_button.name="file_button",this.set_button_text("File Select"),this.file_element=drop.create(drop.file_element,this),this.file_element.set_position(0,0,1,1),this.file_element.name="file_element"},t._destructor=function(){e._destructor.call(this)},t.set_button_text=function(t){this.file_button.set_text(t)},t.get_button_text=function(){return this.file_button.get_text()},t.set_file_extension=function(t){var e=t.length;return null==t||e<1?(this.allowed_extensions_check=!1,!1):(this.allowed_extensions_check=!0,this.allowed_extensions=t,void this.file_element._file_extension(t))},t.get_file_extension=function(){return this.allowed_extensions_check},t.set_max_file_size=function(t){return this.max_file_size!=t&&(this.max_file_size=t,!0)},t.get_max_file_size=function(){return this.max_file_size},t.set_upload_multiple=function(t){return this.upload_multiple!=t&&(this.upload_multiple=t,void this.file_element._file_multiple(t))},t.get_upload_multiple=function(){return this.upload_multiple},t.set_file_limit=function(t){return this.max_file_limit!=t&&(this.max_file_limit=t,!0)},t.get_file_limit=function(){return this.max_file_limit},t.set_file_list=function(t){this.file=[];var e=t.length;if(null==t||e<1)return alert("íŒŒì¼ì´ ì„ íƒë˜ì§€ ì•Šì•˜ê±°ë‚˜, ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."),!1;if(1==this._validation_check(t))for(var i=0;i<e;i++){var s=/(?:\.([^.]+))?$/,n={file:t[i],name:t[i].name,size:t[i].size,extension:s.exec(t[i].name)};this.file.push(n),this.upload_count++}},t.get_file_list=function(){return this.file},t._validation_check=function(t){var e=t.length;if(this.max_file_limit!=-1)if(1==this.upload_multiple){if(e>this.max_file_limit)return alert("í•œë²ˆì— ì—…ë¡œë“œ í•  ìˆ˜ ìžˆëŠ” ê°¯ìˆ˜ë¥¼ ì´ˆê³¼ í•˜ì˜€ìŠµë‹ˆë‹¤."),!1;if(this.upload_count+e>this.max_file_limit)return alert("í•œë²ˆì— ì—…ë¡œë“œ í•  ìˆ˜ ìžˆëŠ” ê°¯ìˆ˜ë¥¼ ì´ˆê³¼ í•˜ì˜€ìŠµë‹ˆë‹¤."),!1}else if(this.upload_count>this.max_file_limit)return alert("í•œë²ˆì— ì—…ë¡œë“œ í•  ìˆ˜ ìžˆëŠ” ê°¯ìˆ˜ë¥¼ ì´ˆê³¼ í•˜ì˜€ìŠµë‹ˆë‹¤."),!1;for(var i=0;i<e;i++)if(0==this.allowed_extensions_check){if(this.max_file_size!=-1&&t[i].size>this.max_file_size)return alert("íŒŒì¼ì˜ ìš©ëŸ‰ì´ ì§€ì •í•œ ì‚¬ì´ì¦ˆë¥¼ ì´ˆê³¼í•˜ì˜€ìŠµë‹ˆë‹¤. íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”.\n"+t[i].name+" / "+t[i].size),!1}else{if(1!=this._extension_check(t[i]))return alert("ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ ìž…ë‹ˆë‹¤. \níŒŒì¼ í˜•ì‹ì„ í™•ì¸í•´ ì£¼ì„¸ìš”."),!1;if(this.max_file_size!=-1&&t[i].size>this.max_file_size)return alert("íŒŒì¼ì˜ ìš©ëŸ‰ì´ ì§€ì •í•œ ì‚¬ì´ì¦ˆë¥¼ ì´ˆê³¼í•˜ì˜€ìŠµë‹ˆë‹¤. íŒŒì¼ì„ í™•ì¸í•˜ì„¸ìš”.\n"+t[i].name+" / "+t[i].size),!1}return!0},t._extension_check=function(t){for(var e=t.name.substring(t.name.lastIndexOf("."),t.name.length).toLowerCase(),i=this.allowed_extensions.length,s=0;s<i;s++)if(e==this.allowed_extensions[s])return!0;return!1},t.on_size=function(t,e){this.file_button&&this.file_button.set_size(t,e)},t.on_file_button_click=function(){return this.file_element._show_file_dialog(),!0},t.on_file_element_change=function(){}}),drop.file_element=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="file_element",t.tag="file",t.width=1,t.height=1,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_attribute("type","file"),this.set_visible(!1)},t._destructor=function(){e._destructor.call(this)},t._show_file_dialog=function(){var t=this.element.handle,e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(e)},t._file_extension=function(t){var e=t.length;return!(null==t||e<1||(this.element.set_attribute("accept",t),0))},t._file_multiple=function(t){1==t?this.element.set_attribute("multiple","multiple"):this.element.remove_attribute("multiple")},t.process_event=function(t){return"change"==t.type&&this.parent&&this.parent.set_file_list(this.element.handle.files),e.process_event.call(this,t)}}),window.DROP_TEXT_LEFT=DROP_ALIGN_LEFT,window.DROP_TEXT_RIGHT=DROP_ALIGN_RIGHT,window.DROP_TEXT_CENTER=DROP_ALIGN_CENTER,window.DROP_TEXT_TOP=DROP_ALIGN_TOP,window.DROP_TEXT_BOTTOM=DROP_ALIGN_BOTTOM,window.DROP_TEXT_MIDDLE=DROP_ALIGN_MIDDLE,window.DROP_TEXT_SINGLELINE=0,window.DROP_TEXT_MULTILINE=0,drop.label=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="label",t.tag="div",t.text_align=0,t.for_control=null,t._need_adjust_padding_by_text_align=!1,t._is_single_line=!0,t._text_width=-1,t._text_height=-1,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("label"),this.set_text_align(DROP_TEXT_LEFT|DROP_TEXT_MIDDLE),this.set_single_line(!0)},t._destructor=function(){e._destructor.call(this)},t.set_text=function(t){var e=this.set_content(t);1==e&&(this._text_width=-1,this._text_height=-1,this._need_adjust_padding_by_text_align=!0)},t.set_size=function(t,i,s){var n=e.set_size.call(this,t,i,s);1==n&&(this._need_adjust_padding_by_text_align=!0)},t.get_text=function(){return this.get_content()},t.set_for=function(t){return t?(this.element.set_style("cursor","pointer"),this.for_control=t):this.for_control=null,!0},t.process_event=function(t){return"click"==t.type&&this.for_control&&this.for_control.is_checked&&this.for_control.set_checked(!this.for_control.is_checked()),e.process_event.call(this,t)},t.set_text_ellipsis=function(t){t?this.element.set_style("text-overflow","ellipsis"):this.element.set_style("text-overflow",null),this._need_adjust_padding_by_text_align=!0},t.get_text_ellipsis=function(){return this.element.get_style("text-overflow")},t.set_single_line=function(t){1==t?(this.element.set_style("white-space","pre"),this.element.set_style("word-break","normal"),this.element.set_style("word-wrap","normal"),this._is_single_line=!0):(this.element.set_style("white-space","pre-wrap"),this.element.set_style("word-break","break-all"),this.element.set_style("word-wrap","break-word"),this._is_single_line=!1),this._need_adjust_padding_by_text_align=!0},t.set_text_align=function(t){return this.text_align!=t&&(this.text_align=t,this._need_adjust_padding_by_text_align=!0,!0)},t.get_text_align=function(){return this.text_align},t.set_text_color=function(t){this.set_color(DROP_COLOR_TEXT,t)},t.get_text_color=function(){return this.get_color(DROP_COLOR_TEXT)},t._adjust_padding_by_text_align=function(t){if(null!=document.body){if(0==this._is_single_line||this._text_width==-1&&this._text_height==-1){var e=["font-size","font-style","font-weight","font-family","line-height","text-align","text-indent","text-transform","letter-spacing","word-break","word-wrap","word-spacing","white-space"],i="position: absolute; overflow: hidden; display: block; ",s="width: "+this.width+"px; ",n="height: auto; ";for(var o in e){var r=this.element.get_style(e[o]);r&&("white-space"==e[o]&&("nowrap"!=r&&"pre"!=r||(s="width: auto; ")),i+=e[o]+": "+r+"; ")}i+=s,i+=n,this._text_width=drop.text_width(this.element.get_class_string(),i,this.get_content()),this._text_height=drop.text_height(this.element.get_class_string(),i,this.get_content())}var l=0,_=0;(this.text_align&DROP_TEXT_CENTER)==DROP_TEXT_CENTER?l=Math.floor((this.width-this._text_width)/2):(this.text_align&DROP_TEXT_LEFT)==DROP_TEXT_LEFT||(this.text_align&DROP_TEXT_RIGHT)==DROP_TEXT_RIGHT&&(l=this.width-this._text_width),(this.text_align&DROP_TEXT_MIDDLE)==DROP_TEXT_MIDDLE?_=Math.floor((this.height-this._text_height)/2):(this.text_align&DROP_TEXT_TOP)==DROP_TEXT_TOP||(this.text_align&DROP_TEXT_BOTTOM)==DROP_TEXT_BOTTOM&&(_=this.height-this._text_height),this.element.set_style("padding-left",l+"px"),this.element.set_style("padding-top",_+"px")}},t.on_paint=function(t){this.parent&&this.element&&(1==this._need_adjust_padding_by_text_align&&(this._adjust_padding_by_text_align(),this._need_adjust_padding_by_text_align=!1),this.element.refresh())}}),window.DROP_SCROLL_HORIZONTAL=DROP_LAYOUT_HORIZONTAL,window.DROP_SCROLL_VERTICAL=DROP_LAYOUT_VERTICAL,drop.list=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="list",t.tag="ul",t.width=200,t.height=300,t.item_height=32,t.adapter=null,t.selected_item_index=-1,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("list"),this.adapter=drop.create(drop.list_adapter),this.set_scroll(DROP_LAYOUT_VERTICAL)},t._destructor=function(){e._destructor.call(this)},t.set_scroll=function(t){this.set_orientation(t)},t.get_scroll=function(){return this.get_orientation()},t.set_orientation=function(t){e.set_orientation.call(this,t),DROP_LAYOUT_HORIZONTAL==t?this.element.set_style("overflow-x","auto"):DROP_LAYOUT_VERTICAL==t&&this.element.set_style("overflow-y","auto")},t.set_list_adapter=function(t){this.adapter=t},t.get_list_adapter=function(){return this.adapter},t.add_item=function(t){this.adapter.set_list_item(t,this),this.need_reposition=!0},t.set_selected_item_index=function(t){if(!(t<0)){this.selected_item_index=t;var e=new drop.event;e.type="change",drop.send_event(this,e)}},t.get_selected_item_index=function(){return this.selected_item_index},t.set_item_height=function(t){if(this.item_height!=t){this.item_height=t;for(var e in this.control_list)this.get_orientation()==DROP_LAYOUT_HORIZONTAL?this.control_list[e].set_size(t,this.height):this.get_orientation()==DROP_LAYOUT_VERTICAL&&this.control_list[e].set_size(this.width,t);this.need_reposition=!0}},t.get_item_height=function(){return this.item_height},t.reset_item=function(){if(!(this.control_list.length<1))for(;this.control_list.length>0;)this.delete_control(this.control_list[0])},t._selected_item=function(t){for(var e in this.control_list)if(this.control_list[e]==t){this.set_selected_item_index(e);break}}}),drop.list_item=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="list_item",t.tag="li",t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_style("cursor","pointer")},t._destructor=function(){e._destructor.call(this)},t.set_text=function(t){this.set_content(t)},t.get_text=function(){return this.get_content()},t.pre_translate_control_event=function(t,e){"click"==e.type&&this.parent&&this.parent._selected_item(this)},t.process_event=function(t){return"click"==t.type&&this.parent&&this.parent._selected_item(this),e.process_event.call(this,t)}}),drop.list_adapter=drop.object.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="list_adapter",t.target=null,t._constructor=function(t){e._constructor.call(this),this.target=t},t._destructor=function(){e._constructor.call(this)},t.make_list_item=function(t){t||(t=this.target);var e=drop.create(drop.list_item,t);return t.get_orientation()==DROP_LAYOUT_HORIZONTAL?e.set_size(t.item_height,t.height):t.get_orientation()==DROP_LAYOUT_VERTICAL&&e.set_size(t.width,t.item_height),e},t.set_list_item=function(t,e){var i=this.make_list_item(e);return i.set_text(t),i},t.get_list_item=function(){}}),drop.pagination=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="pagination",t.tag="ul",t.width=500,t.height=30,t.current_page=1,t.last_page=1,t.total_count=1,t.rows_count=20,t.page_count=10,t._total_page=0,t._total_block=0,t._current_block=0,t._start=0,t._end=0,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("pagination"),this.set_orientation(DROP_LAYOUT_HORIZONTAL),this.set_gravity(DROP_GRAVITY_CENTER),this._init_pagination()},t._destructor=function(){e._destructor.call(this)},t.page=function(t,e,i,s){null!=t&&(this.current_page=t),null!=e&&(this.total_count=e),null!=i&&(this.rows_count=i),null!=s&&(this.page_count=s),this.last_page=Math.ceil(this.total_count/this.rows_count),this._init_pagination()},t._init_pagination=function(){this.reset(),this._total_page=Math.ceil(this.total_count/this.rows_count),this._total_block=Math.ceil(this._total_page/this.page_count),this._current_block=Math.ceil(this.current_page/this.page_count),this._start=(this._current_block-1)*this.page_count+1,this._start+this.page_count-1<=this._total_page?this._end=this._start+this.page_count-1:this._end=this._total_page,this._current_block>1?(this._make_item("<<"),this.control_list[0].element.remove_class("disabled"),this.control_list[0].element.set_style("cursor","pointer")):(this._make_item("<<"),this.control_list[0].element.set_class("disabled"),this.control_list[0].element.remove_style("cursor")),this.current_page>1?(this._make_item("<"),this.control_list[1].element.remove_class("disabled"),this.control_list[1].element.set_style("cursor","pointer")):(this._make_item("<"),this.control_list[1].element.set_class("disabled"),this.control_list[1].element.remove_style("cursor"));for(var t=this._start;t<=this._end;t++)this._make_item(t);var e=this.control_list.length;this.current_page<this._total_page?(this._make_item(">"),this.control_list[e].element.remove_class("disabled")):(this._make_item(">"),this.control_list[e].element.set_class("disabled")),this._current_block<this._total_block?(this._make_item(">>"),this.control_list[e+1].element.remove_class("disabled")):(this._make_item(">>"),this.control_list[e+1].element.set_class("disabled")),this.set_current_page()},t.set_current_page=function(t){null!=t&&(t<1?this.current_page=1:t>this.last_page?this.current_page=this.last_page:this.current_page=t),this._current_block=Math.ceil(this.current_page/this.page_count),this._start=(this._current_block-1)*this.page_count+1,this._start+this.page_count-1<=this._total_page?this._end=this._start+this.page_count-1:this._end=this._total_page,this._current_block>1?(this.control_list[0].element.remove_class("disabled"),
this.control_list[0].element.set_style("cursor","pointer")):(this.control_list[0].element.set_class("disabled"),this.control_list[0].element.remove_style("cursor")),this.current_page>1?(this.control_list[1].element.remove_class("disabled"),this.control_list[1].element.set_style("cursor","pointer")):(this.control_list[1].element.set_class("disabled"),this.control_list[1].element.remove_style("cursor"));for(var e=this.control_list.length-4,i=0;i<e;i++){var s=this.control_list[i+2];this._start+parseInt(i)<=this._end?(s.set_size(30,30),s.set_text(this._start+parseInt(i)),s.element.set_style("cursor","pointer"),this.need_reposition=!0):(s.set_size(0,0),s.set_text(""),s.element.remove_style("cursor"),this.need_reposition=!0)}var n=this.control_list.length;this.current_page<this._total_page?(this.control_list[n-2].element.remove_class("disabled"),this.control_list[n-2].element.set_style("cursor","pointer")):(this.control_list[n-2].element.set_class("disabled"),this.control_list[n-2].element.remove_style("cursor")),this._current_block<this._total_block?(this.control_list[n-1].element.remove_class("disabled"),this.control_list[n-1].element.set_style("cursor","pointer")):(this.control_list[n-1].element.set_class("disabled"),this.control_list[n-1].element.remove_style("cursor"));for(var i in this.control_list){var s=this.control_list[i];s.get_text()==this.current_page?s.element.set_class("active"):s.element.remove_class("active")}var o=new drop.event;o.type="click",drop.send_event(this,o)},t.get_current_page=function(){return this.current_page},t.first_page=function(){this.set_current_page(1)},t.end_page=function(){this.set_current_page(this.last_page)},t.next_page=function(){this.set_current_page(parseInt(this.current_page)+10)},t.prev_page=function(){this.set_current_page(parseInt(this.current_page)-10)},t._make_item=function(t){var e=drop.create(drop.pagination_item,this);e.set_text(t)},t.reset=function(){if(this.control_list.length<1)return!1;for(;this.control_list.length>0;)this.delete_control(this.control_list[0])},t._selected_item=function(t){var e=this.control_list.length;this.control_list[0]==t?this.first_page():this.control_list[1]==t?this.prev_page():this.control_list[e-2]==t?this.next_page():this.control_list[e-1]==t&&this.end_page();for(var i=e-4,s=0;s<i;s++){var n=this.control_list[s+2];if(n==t){this.set_current_page(n.get_text());break}}}}),drop.pagination_item=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="pagination_item",t.tag="li",t.width=30,t.height=30,t._constructor=function(t,i){e._constructor.call(this,t,i)},t._destructor=function(){e._destructor.call(this)},t.set_text=function(t){this.set_content(t)},t.get_text=function(){return this.get_content()},t.process_event=function(t){return"click"==t.type&&this.parent&&this.parent._selected_item(this),e.process_event.call(this,t)}}),drop.picture=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="picture",t.tag="img",t.uri=null,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("picture")},t._destructor=function(){e._destructor.call(this)},t.set_picture=function(t){return this.uri!=t&&(this.uri=t,this.element.set_attribute("src",t),!0)},t.get_picture=function(){return this.uri}}),window.DROP_PROGRESS_TEXT_PERCENT=1,window.DROP_PROGRESS_TEXT_RATIO=2,drop.progressbar=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="progressbar",t.width=500,t.height=24,t.percent=0,t.min=0,t.max=-1,t.text_option=0,t.bar=null,t.label=null,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("progressbar"),this.bar=drop.create(drop.layout_control,this),this.bar.element.set_class("bar"),this.bar.element.set_style("width","0%"),this.bar.element.set_style("transition-duration","300ms"),this.bar.width=0,this.bar.set_size(0,this.height),this.label=drop.create(drop.label,this),this.label.set_size(this.width,this.height),this.set_text_option(DROP_PROGRESS_TEXT_PERCENT)},t._destructor=function(){e._destructor.call(this)},t.set_min=function(t){this.min=t,this.set_value(t)},t.get_min=function(){return this.min},t.set_max=function(t){this.max=t,this.set_value(this.min)},t.get_max=function(){return this.max},t.set_value=function(t){var e;e=this.max!=-1?t/this.max*100:t,this.percent=Math.round(e),this.max!=-1?(this.min=Math.round(e/100*this.max*10)/10,this.min<0?this.min=0:this.min>this.max&&(this.min=this.max)):this.percent>100?this.percent=100:this.percent<0?this.percent=0:this.percent=this.percent,this.element.set_attribute("data-percent",this.percent),this.bar.width=this.percent,this.bar.element.set_style("width",this.percent+"%"),this._bar_text()},t.get_value=function(){return this.percent},t.set_text_option=function(t){return this.text_option!=t&&(this.text_option=t,void this._bar_text())},t.get_text_option=function(){return this.text_option},t._bar_text=function(){this.text_option==DROP_PROGRESS_TEXT_PERCENT?(this.label.element.set_class("percent"),this.label.set_text(this.percent+"%")):this.text_option==DROP_PROGRESS_TEXT_RATIO&&(this.label.element.set_class("ratio"),this.label.set_text(this.min+"/"+this.max))},t.on_size=function(t,e){this.bar&&this.bar.set_size(null,e),this.label&&this.label.set_size(t,e)}}),window.DROP_TEXTAREA_TEXT_LEFT=1,window.DROP_TEXTAREA_TEXT_CENTER=2,window.DROP_TEXTAREA_TEXT_RIGHT=3,drop.textarea=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="textarea",t.tag="textarea",t.text_align=0,t.readonly=!1,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("textarea"),this.element.set_style("overflow","auto"),this.set_text_align(DROP_TEXTAREA_TEXT_LEFT)},t._destructor=function(){e._destructor.call(this)},t.set_content=function(t){this.element.handle.value=t},t.get_content=function(){return this.element.handle.value},t.set_text=function(t){this.set_content(t)},t.get_text=function(){return this.get_content()},t.set_placeholder=function(t){this.element.set_attribute("placeholder",t)},t.get_placeholder=function(){return this.element.get_attribute("placeholder")},t.set_readonly=function(t){return this.readonly!=t&&(this.readonly=t,t?this.element.set_attribute("readonly","readonly"):this.element.remove_attribute("readonly"),!0)},t.get_readonly=function(){return this.readonly},t.set_enabled=function(t){e.set_enabled.call(this,t),t?this.element.remove_attribute("disabled"):this.element.set_attribute("disabled","disabled")},t.set_text_align=function(t){if(this.text_align==t)return!1;switch(this.text_align=t,t){case DROP_TEXTAREA_TEXT_CENTER:this.element.set_style("text-align","center");break;case DROP_TEXTAREA_TEXT_RIGHT:this.element.set_style("text-align","right");break;case DROP_TEXTAREA_TEXT_LEFT:default:this.element.set_style("text-align","left")}return!0},t.get_text_align=function(){return this.text_align},t.set_text_color=function(t){this.set_color(DROP_COLOR_TEXT,t)},t.get_text_align=function(){return this.get_color(DROP_COLOR_TEXT)}}),drop.video=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="video",t.tag="video",t.width=500,t.height=350,t.video_soruce=null,t.uri=null,t.cover_image=null,t.controls=null,t.duration=0,t.auto_play=!1,t.play=!1,t.pause=!0,t.volume=.1,t.start_time=0,t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_class("drop"),this.element.set_class("video"),this.video_soruce=drop.create(drop.video_source,this),this.set_controls(!0),this.element.handle.volume=0,this.set_volume(this.volume)},t._destructor=function(){e._destructor.call(this)},t.set_video=function(t){return this.uri!=t&&(this.uri=t,this.element.set_attribute("src",t),this.video_soruce.set_src(t),void this.element.handle.load())},t.get_video=function(){return this.uri},t.set_cover_image=function(t){return this.cover_picture!=t&&(this.cover_image=t,void this.element.set_attribute("poster",t))},t.get_cover_picture=function(){return this.cover_image},t.set_controls=function(t){return this.controls!=t&&(this.controls=t,1==t?this.element.set_attribute("controls","controls"):this.element.remove_attribute("controls"),!0)},t.get_controls=function(){return this.controls},t.set_auto_play=function(t){return(0!=this.pause||this.auto_play!=t)&&(this.auto_play=t,this.play=t,this.pause=!1,1==t?this.element.set_attribute("autoplay","autoplay"):this.element.remove_attribute("autoplay"),!0)},t.get_auto_play=function(){return this.auto_play},t.set_play=function(t){},t.get_play=function(t){return this.play},t.set_pause=function(){},t.get_pause=function(){return this.pause},t.stop=function(){},t.set_volume=function(t){var e=parseFloat(t);e>=0&&e<=1?(this.element.handle.volume=e,this.volume=e):(this.element.handle.volume=e<0?0:1,this.volume=e<0?0:1)},t.get_volume=function(){return this.volume},t.duration=function(){return this.element.handle.duration},t.set_current_time=function(t){},t.get_current_time=function(){}}),drop.video_source=drop.layout_control.subclass(function(){var t=this.prototype,e=this.superclass.prototype;t.classname="video_source",t.tag="source",t._constructor=function(t,i){e._constructor.call(this,t,i),this.element.set_attribute("type","video/mp4")},t._destructor=function(){e._destructor.call(this)},t.set_src=function(t){this.element.set_attribute("src",t)},t.get_src=function(){return this.element.get_attribute("src")}});